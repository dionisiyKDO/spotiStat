{% extends "base.html" %}

{% block title %}Liked Tracks{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/track_list.css') }}">
{% endblock %}

{% block content %}
    <div class="container container-narrow">
        {% if session.token_info %}
            <div class="section-title">
                <h2>Liked Tracks</h2>
                <p><small>Popularity calculated by Spotify!</small></p>
                <!-- TODO: Add form for pagination logic -->
            </div>
            <ul class="track-list">
                {% for track in liked_tracks %}
                    <li class="track-item">
                        <div class="track-popularity-bar">
                            <div class="track-popularity-bar-fill" style="--popularity: {{ track['popularity'] }}%"></div>
                        </div>
                        <div class="track-number">{{ loop.index }}</div>
                        <div class="album-image-wrapper">
                            <img src="{{ track['album_image_url'] }}" alt="Album Image" class="album-image">
                        </div>
                        <div class="track-info">
                            <div class="track-name">{{ track['name'] }}</div>
                            <div class="track-artist">{{ track['artist'] }}</div>
                            <div class="track-meta">
                                <div class="track-popularity">Popularity: {{ track['popularity'] }}</div>
                            </div>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}


